<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ .Site.Params.description }}">
    <meta name="author" content="{{ .Site.Params.author }}">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{{ if .IsHome }}{{ .Site.Params.author }} - {{ .Site.Title }}{{ else }}{{ .Title }} - {{ .Site.Params.author }}{{ end }}">
    <meta property="og:description" content="{{ .Site.Params.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ .Permalink }}">
    
    <title>{{ if .IsHome }}{{ .Site.Params.author }}{{ else }}{{ .Title }} - {{ .Site.Params.author }}{{ end }}</title>
    
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}">
    <link rel="icon" type="image/x-icon" href="{{ "favicon.ico" | relURL }}">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom Animations -->
    <script src="{{ "js/animations.js" | relURL }}" defer></script>
</head>
<body>
    <!-- Loading Animation -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>
    
    <!-- Header - Always visible like Amy's -->
    <header>
        <nav>
            <a href="/" class="logo">{{ .Site.Params.author }}</a>
            <ul>
                <li><a href="/" {{ if .IsHome }}class="active"{{ end }}>HOME</a></li>
                <li><a href="/highlights/" {{ if eq .RelPermalink "/highlights/" }}class="active"{{ end }}>HIGHLIGHTS</a></li>
                <li><a href="/about/" {{ if eq .RelPermalink "/about/" }}class="active"{{ end }}>ABOUT</a></li>
                <li><a href="/games/" {{ if eq .RelPermalink "/games/" }}class="active"{{ end }}>GAMES</a></li>
                <li><a href="/projects/" {{ if or (eq .RelPermalink "/projects/") (eq .Section "projects") }}class="active"{{ end }}>PROJECTS</a></li>
                <li><a href="/blog/" {{ if or (eq .RelPermalink "/blog/") (eq .Section "blog") }}class="active"{{ end }}>BLOG</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle">MORE <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 0.3em;"></i></a>
                    <div class="dropdown-content">
                        <a href="/skills/">SKILLS</a>
                        <a href="/learning/">LEARNING</a>
                        <a href="/contact/">CONTACT</a>
                    </div>
                </li>
            </ul>
        </nav>
    </header>
    
    <main>
        {{ block "main" . }}{{ end }}
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>{{ .Site.Params.author }}</h4>
                    <p>{{ .Site.Params.description }}</p>
                </div>
                <div class="footer-section">
                    <h4>Follow Me</h4>
                    <div class="social-links">
                        {{ range .Site.Params.social }}
                        <a href="{{ .url }}" target="_blank" rel="noopener" aria-label="{{ .name }}">
                            {{ if eq .name "GitHub" }}<i class="fab fa-github"></i>{{ end }}
                            {{ if eq .name "LinkedIn" }}<i class="fab fa-linkedin"></i>{{ end }}
                            {{ if eq .name "Twitter" }}<i class="fab fa-twitter"></i>{{ end }}
                            {{ if eq .name "Email" }}<i class="fas fa-envelope"></i>{{ end }}
                        </a>
                        {{ end }}
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Recent Posts</h4>
                    {{ range first 3 (where .Site.RegularPages "Section" "blog") }}
                    <a href="{{ .RelPermalink }}" class="footer-link">{{ .Title }}</a>
                    {{ end }}
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop">BACK TO TOP</button>
    
    <script>
    // Loading animation
    window.addEventListener('load', () => {
        setTimeout(() => {
            document.getElementById('loading').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
            }, 300);
        }, 500);
    });
    
    // Back to Top functionality
    const backToTop = document.getElementById('backToTop');
    
    window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
            backToTop.classList.add('visible');
        } else {
            backToTop.classList.remove('visible');
        }
    });
    
    backToTop.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
    
    // Dropdown menu
    document.querySelector('.dropdown-toggle').addEventListener('click', (e) => {
        e.preventDefault();
        e.target.parentElement.classList.toggle('active');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.dropdown')) {
            document.querySelector('.dropdown').classList.remove('active');
        }
    });
    
    // Add subtle animations on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -100px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in');
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);
    
    // Observe elements
    document.addEventListener('DOMContentLoaded', () => {
        const elements = document.querySelectorAll('.project-card, .skill-category, .about-header, section');
        elements.forEach(el => observer.observe(el));
    });
    </script>
</body>
</html>